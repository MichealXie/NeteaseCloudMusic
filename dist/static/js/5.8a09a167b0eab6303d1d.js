webpackJsonp([5],{"+aNE":function(t,e,s){"use strict";var i={props:{songListDetail:Object},methods:{playSong:function(t,e){var s=t[0].id,i=0;2===this.playMode&&(s=e[i=Math.round(Math.random()*e.length)].id),this.$store.commit("setPlayType",1),this.$store.commit("setIsPlay",!1),this.$store.dispatch("getSongUrl",s),this.$store.commit("setPlayingList",e),this.$store.commit("setCurrentSongIndex",i),this.$store.commit("setIsPlay",!0)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"play-all",on:{click:function(e){t.playSong(t.songListDetail.trackIds,t.songListDetail.tracks)}}},[s("i",{staticClass:"fa fa-play-circle-o",attrs:{"aria-hidden":"true"}}),t._v(" "),s("div",{staticClass:"play"},[t._v("\n\t\t播放全部\n\t\t"),t.songListDetail.trackIds?s("span",{staticClass:"count"},[t._v("(共"+t._s(t.songListDetail.trackIds.length)+"首)")]):t._e()])])},staticRenderFns:[]},n=s("VU/8")(i,a,!1,function(t){s("rwXx")},null,null);e.a=n.exports},"/XKx":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("BO1k"),a=s.n(i),n=s("Dd8w"),o=s.n(n),r=s("yJEY"),l=s("d0pL"),c=s("nGbZ"),m=s("+aNE"),d=s("y/jF"),y=s("NYxO"),h={components:{"common-header":r.a,"mini-player":l.a,"mini-FM":c.a,"play-all":m.a,loading:d.a},computed:o()({},Object(y.c)(["playType","isLoading","isLogin","recommendMV","dailyRecommend"]),{player:function(){return document.getElementById("player")},songListDetail:function(){if(this.dailyRecommend){var t=[],e=!0,s=!1,i=void 0;try{for(var n,o=a()(this.dailyRecommend);!(e=(n=o.next()).done);e=!0){var r=n.value;t.push({id:r.id})}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}var l=[],c=!0,m=!1,d=void 0;try{for(var y,h=a()(this.dailyRecommend);!(c=(y=h.next()).done);c=!0){var u=y.value;l.push({al:{picUrl:u.album.picUrl},ar:[{name:u.artists[0].name}],name:u.name,id:u.id})}}catch(t){m=!0,d=t}finally{try{!c&&h.return&&h.return()}finally{if(m)throw d}}return{tracks:l,trackIds:t}}}}),methods:{playSong:function(t,e){var s=t[0].id,i=0;2===this.playMode&&(s=e[i=Math.round(Math.random()*e.length)].id),this.$store.commit("setPlayType",1),this.player.pause(),this.$store.commit("setIsPlay",!1),this.$store.dispatch("getSongUrl",s),this.$store.commit("setPlayingList",e),this.$store.commit("setCurrentSongIndex",i),this.$store.commit("setIsPlay",!0)},playIndexSong:function(t,e,s){this.player.pause(),this.$store.commit("setPlayType",1),this.$store.commit("setIsPlay",!1),this.$store.dispatch("getSongUrl",t),this.$store.commit("setPlayingList",s),this.$store.commit("setCurrentSongIndex",e),this.$store.commit("setIsPlay",!0)}},mounted:function(){if(this.$store.state.isLogin)this.$store.dispatch("getDailyRecommend");else{if(this.dailyRecommend)return;this.$router.push("login")}},deactivated:function(){this.$store.commit("setIsLoading",!1)}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"daily-recommend"},[s("loading",{directives:[{name:"show",rawName:"v-show",value:!Object.keys(t.dailyRecommend).length,expression:"!Object.keys(dailyRecommend).length"}]},[t._v("ԅ(¯﹃¯ԅ)")]),t._v(" "),s("common-header",[t._v("每日歌曲推荐")]),t._v(" "),s("div",{staticClass:"banner"},[t.recommendMV[0]?s("img",{attrs:{src:t.recommendMV[0].picUrl,alt:""}}):t._e()]),t._v(" "),s("play-all",{attrs:{songListDetail:t.songListDetail}}),t._v(" "),t.dailyRecommend.length?s("ul",{staticClass:"daily-list"},t._l(t.dailyRecommend,function(e,i){return s("li",{key:e.id,staticClass:"item",on:{click:function(e){t.playIndexSong(t.songListDetail.trackIds[i].id,i,t.songListDetail.tracks)}}},[s("div",{staticClass:"cover"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.album.picUrl,expression:"item.album.picUrl"}],attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v("\n\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"singer"},[t._v("\n\t\t\t\t\t"+t._s(e.artists[0].name)+"\n\t\t\t\t")])])])})):t._e(),t._v(" "),s("mini-player",{directives:[{name:"show",rawName:"v-show",value:1===t.playType,expression:"playType === 1"}]}),t._v(" "),s("mini-FM",{directives:[{name:"show",rawName:"v-show",value:2===t.playType,expression:"playType === 2"}]})],1)},staticRenderFns:[]},p=s("VU/8")(h,u,!1,function(t){s("ovfa")},null,null);e.default=p.exports},ovfa:function(t,e){},rwXx:function(t,e){}});
//# sourceMappingURL=5.8a09a167b0eab6303d1d.js.map